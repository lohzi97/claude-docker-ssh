services:
  claude-docker-ssh:
    build: .
    container_name: claude-docker-ssh
    restart: unless-stopped
    ports:
      - "2222:22"
    volumes:
      # Claude project config (permissions, MCP servers) - created on first run
      - ./config/.claude.json:/home/claude/.claude.json
      # Persist Claude's auth and history
      - ./claude_data:/home/claude/.claude
      # Convenience scripts
      - ./scripts:/home/claude/scripts
    # Optional: Override default SSH password
    environment:
      - SSH_PASSWORD=password

    # OPTIONAL
    # Uncomment below and replace 'self-hosted-ai-starter-it_demo', which should matches existing created network, so that other service can access it
    networks:
      - self-hosted-ai-starter-kit_demo

networks:
  self-hosted-ai-starter-kit_demo:
    external: true
