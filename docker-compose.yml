services:
  claude-docker-ssh:
    build: .
    container_name: claude-docker-ssh
    restart: unless-stopped
    ports:
      - "2222:22"
    volumes:
      # Claude project config (permissions, MCP servers) - created on first run
      - ./config/.claude.json:/home/claude/.claude.json
      # Persist Claude's auth and history
      - ./claude_data:/home/claude/.claude
    # Optional: Override default SSH password
    # environment:
    #   - SSH_PASSWORD=your-secure-password-here

# OPTIONAL
# Uncomment below and replace 'self-hosted-ai-starter-it_demo', which should matches existing created network, so that other service can access it
#     networks:
#       - self-hosted-ai-starter-it_demo

# networks:
#   self-hosted-ai-starter-it_demo:
#     external: true
